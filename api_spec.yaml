openapi: 3.0.0
info:
  title: Kiren Backend Service
  description: |
    A backend service for KirenBBQ website.

    | Version | Changes |
    | ------- | ------- |
    | 0.1.0 | Initial documentation |

    ## Error codes table
    The following error codes are generated by the service.

    |  Code  |  Status  |  Description  |
    | ------ | -------- | ------------- |
    | **INTERNAL_SERVER_ERROR** | 500 | Internal server error |

  version: "0.1.0"
servers:
  - url: https://localhost:8080/
components:
  schemas:
    products_success_response_schema:
      type: object
      properties:
        product_data:
          type: array
          items:
            $ref: '#/components/schemas/product'
        error:
          type: object
    product_success_response_schema:
      type: object
      properties:
        product_data:
          $ref: '#/components/schemas/product'
        error:
          type: object
    product_internal_server_error_response_schema:
      type: object
      properties:
        product_data:
          type: object
        error:
          $ref: '#/components/schemas/error'
    product_internal_server_error_response_schema:
      type: object
      properties:
        product_data:
          type: object
        error:
          $ref: '#/components/schemas/error'
    product:
      type: object
      description: Product object 
      properties:
        product_id:
          type: string
          example: "AAA01"
          description: Product ID
        product_name_th:
          type: string
          example: "ตะแกรงย่างเทฟล่อน ขนาด 295 มม."
          description: Product name (Thai language)
        product_name_en:
          type: string
          example: "Teflon Grille 295mm."
          description: Product name (English language)
        product_description_th:
          type: string
          example: ""
          description: Product description (Thai language)
        product_description_en:
          type: string
          example: ""
          description: Product description (English language)
        price:
          type: float
          example: 5000.00
          description: Product price (Thai baht)
    error:
      type: object
      description: Error object 
      properties:
        name:
          type: string
          example: "INTERNAL_SERVER_ERROR"
          description: Error name
        message:
          type: string
          example: "System cannot process this transaction at the moment."
          description: Error message
        details:
          type: array
          description: Error detail
          items:
            $ref: '#/components/schemas/error_details'
    error_details:
      type: object
      description: Error details object
      properties:
        field:
          type: string
          example: ""
          description: Field name
        issue:
          type: string
          example: ""
          description: Issue detail

paths:
  /ping:
    get:
      summary: Ping pong
      description: This endpoint is for the network testing of service availability.
      responses:
        "200":
          description: Successful network response
          content:
            text/plain:
              example: pong
  /product:
    get:
      summary: Inquiry product
      description: This endpoint returns a product data successfully.
      responses:
        "200":
          description: This endpoint fetches and returns product data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/product_success_response_schema'
        "500":
          description: Error occurred during product fetching process
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/product_internal_server_error_response_schema'
  /products:
    get:
      summary: Inquiry products
      description: This endpoint returns the list of products.
      responses:
        "200":
          description: The endpoint fetches and returns a list of products successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/products_success_response_schema'
        "500":
          description: Error occurred during product fetching process
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/products_internal_server_error_response_schema'